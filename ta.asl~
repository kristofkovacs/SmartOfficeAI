// Agent ta in project ierHF.mas2j

/* Initial beliefs and rules */
!start. 

/* Initial goals */


/* Plans */

+!start <- !run(25, false, 25, false, 25, false).

//szenzorok ovasása
+!run(A,B,C,D,E,F) : refresh(G,H,I,J,K,L) <- .drop_desire(run(A,B,C,D,E,F)); Env.clearTA; !run(G,H,I,J,K,L).
+!run(A,B,C,D,E,F) <- .print("Szenzorok olvasása"); !checkT_1(A); !checkS_1(B);!checkT_2(C);!checkS_2(D);!checkT_3(E);!checkS_3(F); !donemeasuring_1; !donemeasuring_2; !donemeasuring_3; .wait(5000); !!run(A,B,C,D,E,F).


//elsõ szoba
+!checkT_1(N) : N > 45 <- +hightemperature_1; -~hightemperature_1; .print("Magas a hõmérséklet az elsõ szobában").

+!checkT_1(N) : N <= 45 <-  +~hightemperature_1; -hightemperature_1; .print("Alacsony a hõmérséklet az elsõ szobában").

+!checkS_1(N) : N == true <- +hassmoke_1; -~hassmoke_1; .print("Magas a füstszint az elsõ szobában").

+!checkS_1(N) : N == false <- +~hassmoke_1; -hassmoke_1; .print("Alacsony a füstszint az elsõ szobában").

//második szoba
+!checkT_2(N) : N > 45 <- +hightemperature_2; -~hightemperature_2; .print("Magas a hõmérséklet a második szobában").

+!checkT_2(N) : N <= 45 <-  +~hightemperature_2; -hightemperature_2; .print("Alacsony a hõmérséklet a második szobában").

+!checkS_2(N) : N == true <- +hassmoke_2; -~hassmoke_2; .print("Magas a füstszint a második szobában").

+!checkS_2(N) : N == false <- +~hassmoke_2; -hassmoke_2; .print("Alacsony a füstszint a második szobában").

//harmadik szoba
+!checkT_3(N) : N > 45 <- +hightemperature_3; -~hightemperature_3; .print("Magas a hõmérséklet a harmadik szobában").

+!checkT_3(N) : N <= 45 <-  +~hightemperature_3; -hightemperature_3; .print("Alacsony a hõmérséklet a harmadik szobában").

+!checkS_3(N) : N == true <- +hassmoke_3; -~hassmoke_3; .print("Magas a füstszint a harmadik szobában").

+!checkS_3(N) : N == false <- +~hassmoke_3; -hassmoke_3; .print("Alacsony a füstszint a harmadik szobában").

//tûzhelyzet megállapítása
+!donemeasuring_1: hightemperature_1 & hassmoke_1 <- .send(ba,tell,firealert); .print("Tüzet detektáltam az elsõ szobában").

+!donemeasuring_1: ~hightemperature_1 | ~hassmoke_1 <- .send(ba,tell,nofirealert); .print("Nem detektáltam tüzet az elsõ szobában").

+!donemeasuring_2: hightemperature_2 & hassmoke_2 <- .send(ba,tell,firealert); .print("Tüzet detektáltam a második szobában").

+!donemeasuring_2: ~hightemperature_2 | ~hassmoke_2 <- .send(ba,tell,nofirealert); .print("Nem detektáltam tüzet a második szobában").

+!donemeasuring_3: hightemperature_3 & hassmoke_3 <- .send(ba,tell,firealert); .print("Tüzet detektáltam a harmadik szobában").

+!donemeasuring_3: ~hightemperature_3 | ~hassmoke_3 <- .send(ba,tell,nofirealert); .print("Nem detektáltam tüzet a harmadik szobában").

